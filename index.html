<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YouTube Transcriber - 99+ Languages | Convert YouTube Videos to Text</title>
    <meta name="description" content="Free YouTube transcriber supporting 99+ languages. Convert YouTube videos to text instantly using AI. Download transcripts in multiple formats.">
    <meta name="keywords" content="YouTube transcriber, video to text, YouTube transcript, multilingual transcription, AI transcription">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://your-site.vercel.app/">
    <meta property="og:title" content="YouTube Transcriber - 99+ Languages">
    <meta property="og:description" content="Convert YouTube videos to text instantly using AI. Support for 99+ languages.">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://your-site.vercel.app/">
    <meta property="twitter:title" content="YouTube Transcriber - 99+ Languages">
    <meta property="twitter:description" content="Convert YouTube videos to text instantly using AI. Support for 99+ languages.">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🌐</text></svg>">
    
    <!-- React and Required Libraries -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    
    <!-- Custom Styles -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: rgba(0,0,0,0.1); }
        ::-webkit-scrollbar-thumb { background: rgba(147,51,234,0.5); border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: rgba(147,51,234,0.7); }
        
        /* Loading animation */
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .animate-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        const { Upload, Download, Globe, FileText, Mic, Settings, Languages, Zap, Check, AlertCircle, Clock } = lucide;

        // ✅ UPDATED: Your actual Railway backend URL
        const API_BASE_URL = 'https://web-production-12b21.up.railway.app';

        const YouTubeTranscriber = () => {
          const [url, setUrl] = useState('');
          const [file, setFile] = useState(null);
          const [isProcessing, setIsProcessing] = useState(false);
          const [progress, setProgress] = useState(0);
          const [currentStep, setCurrentStep] = useState('');
          const [results, setResults] = useState(null);
          const [jobId, setJobId] = useState(null);
          const [selectedLanguages, setSelectedLanguages] = useState(['en']);
          const [sourceLanguage, setSourceLanguage] = useState('auto');
          const [selectedFormats, setSelectedFormats] = useState(['txt', 'srt']);
          const [showAdvanced, setShowAdvanced] = useState(false);
          const [backendStatus, setBackendStatus] = useState('checking');
          const fileInputRef = useRef(null);

          // Complete list of 99+ languages supported by Whisper AI
          const languages = [
            { code: 'auto', name: 'Auto-detect', flag: '🌐' },
            { code: 'en', name: 'English', flag: '🇺🇸' },
            { code: 'zh', name: 'Chinese (Mandarin)', flag: '🇨🇳' },
            { code: 'es', name: 'Spanish', flag: '🇪🇸' },
            { code: 'hi', name: 'Hindi', flag: '🇮🇳' },
            { code: 'ar', name: 'Arabic', flag: '🇸🇦' },
            { code: 'pt', name: 'Portuguese', flag: '🇵🇹' },
            { code: 'bn', name: 'Bengali', flag: '🇧🇩' },
            { code: 'ru', name: 'Russian', flag: '🇷🇺' },
            { code: 'ja', name: 'Japanese', flag: '🇯🇵' },
            { code: 'pa', name: 'Punjabi', flag: '🇮🇳' },
            { code: 'de', name: 'German', flag: '🇩🇪' },
            { code: 'jv', name: 'Javanese', flag: '🇮🇩' },
            { code: 'wu', name: 'Wu Chinese', flag: '🇨🇳' },
            { code: 'ms', name: 'Malay', flag: '🇲🇾' },
            { code: 'te', name: 'Telugu', flag: '🇮🇳' },
            { code: 'vi', name: 'Vietnamese', flag: '🇻🇳' },
            { code: 'ko', name: 'Korean', flag: '🇰🇷' },
            { code: 'fr', name: 'French', flag: '🇫🇷' },
            { code: 'mr', name: 'Marathi', flag: '🇮🇳' },
            { code: 'ta', name: 'Tamil', flag: '🇮🇳' },
            { code: 'ur', name: 'Urdu', flag: '🇵🇰' },
            { code: 'gu', name: 'Gujarati', flag: '🇮🇳' },
            { code: 'tr', name: 'Turkish', flag: '🇹🇷' },
            { code: 'it', name: 'Italian', flag: '🇮🇹' },
            { code: 'th', name: 'Thai', flag: '🇹🇭' },
            { code: 'pl', name: 'Polish', flag: '🇵🇱' },
            { code: 'ca', name: 'Catalan', flag: '🇪🇸' },
            { code: 'nl', name: 'Dutch', flag: '🇳🇱' },
            { code: 'sv', name: 'Swedish', flag: '🇸🇪' },
            { code: 'no', name: 'Norwegian', flag: '🇳🇴' },
            { code: 'da', name: 'Danish', flag: '🇩🇰' },
            { code: 'fi', name: 'Finnish', flag: '🇫🇮' },
            { code: 'cs', name: 'Czech', flag: '🇨🇿' },
            { code: 'hu', name: 'Hungarian', flag: '🇭🇺' },
            { code: 'ro', name: 'Romanian', flag: '🇷🇴' },
            { code: 'bg', name: 'Bulgarian', flag: '🇧🇬' },
            { code: 'hr', name: 'Croatian', flag: '🇭🇷' },
            { code: 'sk', name: 'Slovak', flag: '🇸🇰' },
            { code: 'sl', name: 'Slovenian', flag: '🇸🇮' },
            { code: 'et', name: 'Estonian', flag: '🇪🇪' },
            { code: 'lv', name: 'Latvian', flag: '🇱🇻' },
            { code: 'lt', name: 'Lithuanian', flag: '🇱🇹' },
            { code: 'el', name: 'Greek', flag: '🇬🇷' },
            { code: 'uk', name: 'Ukrainian', flag: '🇺🇦' },
            { code: 'be', name: 'Belarusian', flag: '🇧🇾' },
            { code: 'mk', name: 'Macedonian', flag: '🇲🇰' },
            { code: 'sr', name: 'Serbian', flag: '🇷🇸' },
            { code: 'bs', name: 'Bosnian', flag: '🇧🇦' },
            { code: 'sq', name: 'Albanian', flag: '🇦🇱' },
            { code: 'is', name: 'Icelandic', flag: '🇮🇸' },
            { code: 'ga', name: 'Irish', flag: '🇮🇪' },
            { code: 'cy', name: 'Welsh', flag: '🏴' },
            { code: 'eu', name: 'Basque', flag: '🇪🇸' },
            { code: 'mt', name: 'Maltese', flag: '🇲🇹' },
            { code: 'lb', name: 'Luxembourgish', flag: '🇱🇺' },
            { code: 'he', name: 'Hebrew', flag: '🇮🇱' },
            { code: 'fa', name: 'Persian (Farsi)', flag: '🇮🇷' },
            { code: 'ku', name: 'Kurdish', flag: '🇹🇷' },
            { code: 'az', name: 'Azerbaijani', flag: '🇦🇿' },
            { code: 'hy', name: 'Armenian', flag: '🇦🇲' },
            { code: 'ka', name: 'Georgian', flag: '🇬🇪' },
            { code: 'kk', name: 'Kazakh', flag: '🇰🇿' },
            { code: 'ky', name: 'Kyrgyz', flag: '🇰🇬' },
            { code: 'uz', name: 'Uzbek', flag: '🇺🇿' },
            { code: 'tg', name: 'Tajik', flag: '🇹🇯' },
            { code: 'mn', name: 'Mongolian', flag: '🇲🇳' },
            { code: 'ps', name: 'Pashto', flag: '🇦🇫' },
            { code: 'id', name: 'Indonesian', flag: '🇮🇩' },
            { code: 'tl', name: 'Filipino (Tagalog)', flag: '🇵🇭' },
            { code: 'my', name: 'Myanmar (Burmese)', flag: '🇲🇲' },
            { code: 'km', name: 'Khmer (Cambodian)', flag: '🇰🇭' },
            { code: 'lo', name: 'Lao', flag: '🇱🇦' },
            { code: 'si', name: 'Sinhala', flag: '🇱🇰' },
            { code: 'ne', name: 'Nepali', flag: '🇳🇵' },
            { code: 'kn', name: 'Kannada', flag: '🇮🇳' },
            { code: 'ml', name: 'Malayalam', flag: '🇮🇳' },
            { code: 'or', name: 'Odia', flag: '🇮🇳' },
            { code: 'as', name: 'Assamese', flag: '🇮🇳' },
            { code: 'sa', name: 'Sanskrit', flag: '🇮🇳' },
            { code: 'sw', name: 'Swahili', flag: '🇰🇪' },
            { code: 'am', name: 'Amharic', flag: '🇪🇹' },
            { code: 'yo', name: 'Yoruba', flag: '🇳🇬' },
            { code: 'ig', name: 'Igbo', flag: '🇳🇬' },
            { code: 'zu', name: 'Zulu', flag: '🇿🇦' },
            { code: 'af', name: 'Afrikaans', flag: '🇿🇦' },
            { code: 'xh', name: 'Xhosa', flag: '🇿🇦' },
            { code: 'st', name: 'Sotho', flag: '🇿🇦' },
            { code: 'tn', name: 'Tswana', flag: '🇧🇼' },
            { code: 'so', name: 'Somali', flag: '🇸🇴' },
            { code: 'mg', name: 'Malagasy', flag: '🇲🇬' },
            { code: 'ln', name: 'Lingala', flag: '🇨🇩' },
            { code: 'ha', name: 'Hausa', flag: '🇳🇬' },
            { code: 'br', name: 'Breton', flag: '🇫🇷' },
            { code: 'fo', name: 'Faroese', flag: '🇫🇴' },
            { code: 'haw', name: 'Hawaiian', flag: '🇺🇸' },
            { code: 'la', name: 'Latin', flag: '🇻🇦' },
            { code: 'mi', name: 'Maori', flag: '🇳🇿' },
            { code: 'oc', name: 'Occitan', flag: '🇫🇷' },
            { code: 'nn', name: 'Norwegian Nynorsk', flag: '🇳🇴' },
            { code: 'nb', name: 'Norwegian Bokmal', flag: '🇳🇴' },
            { code: 'tt', name: 'Tatar', flag: '🇷🇺' },
            { code: 'tk', name: 'Turkmen', flag: '🇹🇲' },
            { code: 'yi', name: 'Yiddish', flag: '🇮🇱' },
            { code: 'sd', name: 'Sindhi', flag: '🇵🇰' },
            { code: 'gl', name: 'Galician', flag: '🇪🇸' },
            { code: 'bh', name: 'Bihari', flag: '🇮🇳' },
            { code: 'bo', name: 'Tibetan', flag: '🇨🇳' },
            { code: 'sn', name: 'Shona', flag: '🇿🇼' },
            { code: 'jw', name: 'Javanese', flag: '🇮🇩' },
            { code: 'su', name: 'Sundanese', flag: '🇮🇩' },
            { code: 'ba', name: 'Bashkir', flag: '🇷🇺' }
          ];

          // Output formats
          const formats = [
            { id: 'txt', name: 'Plain Text', description: 'Simple text file (.txt)' },
            { id: 'srt', name: 'SubRip', description: 'Subtitle file (.srt)' },
            { id: 'vtt', name: 'WebVTT', description: 'Web Video Text Tracks (.vtt)' },
            { id: 'json', name: 'JSON', description: 'Structured data (.json)' },
            { id: 'csv', name: 'CSV', description: 'Spreadsheet format (.csv)' },
            { id: 'md', name: 'Markdown', description: 'Markdown file (.md)' }
          ];

          // Check backend status on load
          useEffect(() => {
            checkBackendStatus();
          }, []);

          const checkBackendStatus = async () => {
            try {
              const response = await fetch(`${API_BASE_URL}/`, { method: 'GET' });
              if (response.ok) {
                setBackendStatus('connected');
              } else {
                setBackendStatus('error');
              }
            } catch (error) {
              setBackendStatus('error');
            }
          };

          // Start transcription
          const startTranscription = async () => {
            if (!url && !file) {
              alert('Please provide a YouTube URL or upload a file');
              return;
            }

            if (backendStatus !== 'connected') {
              alert('Backend service is not available. Please check the API_BASE_URL configuration.');
              return;
            }

            setIsProcessing(true);
            setProgress(0);
            setResults(null);
            setCurrentStep('Initializing...');

            try {
              const formData = new FormData();
              
              if (url) {
                formData.append('url', url);
              }
              if (file) {
                formData.append('file', file);
              }
              
              formData.append('languages', JSON.stringify(selectedLanguages));
              formData.append('formats', JSON.stringify(selectedFormats));
              formData.append('sourceLanguage', sourceLanguage);

              const response = await fetch(`${API_BASE_URL}/transcribe`, {
                method: 'POST',
                body: formData
              });

              const data = await response.json();

              if (data.success) {
                setJobId(data.job_id);
                pollProgress(data.job_id);
              } else {
                throw new Error(data.error);
              }

            } catch (error) {
              console.error('Error:', error);
              setCurrentStep('Error: ' + error.message);
              setIsProcessing(false);
            }
          };

          // Poll for progress updates
          const pollProgress = async (jobId) => {
            const interval = setInterval(async () => {
              try {
                const response = await fetch(`${API_BASE_URL}/progress/${jobId}`);
                const data = await response.json();

                setProgress(data.progress || 0);
                setCurrentStep(data.message || 'Processing...');

                if (data.status === 'completed') {
                  clearInterval(interval);
                  setResults({
                    files: data.files,
                    title: data.title,
                    performance_stats: data.performance_stats
                  });
                  setIsProcessing(false);
                  setCurrentStep('Complete!');
                } else if (data.status === 'error') {
                  clearInterval(interval);
                  setCurrentStep('Error: ' + data.message);
                  setIsProcessing(false);
                }

              } catch (error) {
                console.error('Progress polling error:', error);
              }
            }, 1000);
          };

          // Download individual file
          const downloadFile = (language, format) => {
            if (!results?.files?.[language]?.[format]) return;
            
            const filename = results.files[language][format];
            const downloadUrl = `${API_BASE_URL}/download/${jobId}/${filename}`;
            
            // Create temporary link and click it
            const link = document.createElement('a');
            link.href = downloadUrl;
            link.download = filename;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
          };

          // Download all files as ZIP
          const downloadAll = () => {
            if (!jobId) return;
            
            const downloadUrl = `${API_BASE_URL}/download-all/${jobId}`;
            const link = document.createElement('a');
            link.href = downloadUrl;
            link.download = `${results?.title || 'transcripts'}_all_formats.zip`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
          };

          const handleFileUpload = (event) => {
            const uploadedFile = event.target.files[0];
            if (uploadedFile) {
              setFile(uploadedFile);
              setUrl('');
            }
          };

          const handleLanguageToggle = (langCode) => {
            if (langCode === 'auto') return;
            
            setSelectedLanguages(prev => 
              prev.includes(langCode) 
                ? prev.filter(l => l !== langCode)
                : [...prev, langCode]
            );
          };

          const handleFormatToggle = (formatId) => {
            setSelectedFormats(prev => 
              prev.includes(formatId)
                ? prev.filter(f => f !== formatId)
                : [...prev, formatId]
            );
          };

          return (
            <div className="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900">
              {/* Backend Status Banner */}
              {backendStatus !== 'connected' && (
                <div className={`text-center py-2 px-4 text-sm font-medium ${
                  backendStatus === 'checking' 
                    ? 'bg-yellow-600 text-yellow-100' 
                    : 'bg-red-600 text-red-100'
                }`}>
                  {backendStatus === 'checking' ? (
                    <span className="animate-pulse">🔄 Checking backend connection...</span>
                  ) : (
                    '⚠️ Backend not connected. Please check API_BASE_URL in the code.'
                  )}
                </div>
              )}

              {/* Header */}
              <div className="bg-black/20 backdrop-blur-sm border-b border-purple-500/20">
                <div className="max-w-7xl mx-auto px-4 py-6">
                  <div className="flex items-center gap-3">
                    <div className="bg-gradient-to-r from-red-500 to-purple-500 p-3 rounded-xl">
                      <Globe className="w-8 h-8 text-white" />
                    </div>
                    <div>
                      <h1 className="text-3xl font-bold bg-gradient-to-r from-red-400 to-purple-400 bg-clip-text text-transparent">
                        YouTube Transcriber - 99+ Languages
                      </h1>
                      <p className="text-gray-300">Convert YouTube Videos to Text • AI-Powered • All Languages Supported</p>
                    </div>
                  </div>
                </div>
              </div>

              <div className="max-w-7xl mx-auto px-4 py-8">
                {/* Input Section */}
                <div className="bg-white/10 backdrop-blur-sm rounded-2xl border border-purple-500/20 p-8 mb-8">
                  <h2 className="text-2xl font-bold text-white mb-6 flex items-center gap-2">
                    <Upload className="w-6 h-6" />
                    YouTube Video or Audio File
                  </h2>
                  
                  <div className="grid md:grid-cols-2 gap-6">
                    <div>
                      <label className="block text-gray-300 font-medium mb-3">YouTube URL</label>
                      <input
                        type="url"
                        value={url}
                        onChange={(e) => setUrl(e.target.value)}
                        placeholder="https://www.youtube.com/watch?v=..."
                        className="w-full px-4 py-3 bg-black/30 border border-purple-500/30 rounded-xl text-white placeholder-gray-400 focus:outline-none focus:border-purple-400 transition-colors"
                      />
                    </div>

                    <div>
                      <label className="block text-gray-300 font-medium mb-3">Or Upload Audio File</label>
                      <div 
                        onClick={() => fileInputRef.current?.click()}
                        className="w-full h-12 border-2 border-dashed border-purple-500/50 rounded-xl flex items-center justify-center cursor-pointer hover:border-purple-400 transition-colors"
                      >
                        {file ? (
                          <span className="text-purple-300">{file.name}</span>
                        ) : (
                          <span className="text-gray-400">Click to upload audio file</span>
                        )}
                      </div>
                      <input
                        ref={fileInputRef}
                        type="file"
                        onChange={handleFileUpload}
                        accept="audio/*,video/*"
                        className="hidden"
                      />
                    </div>
                  </div>
                </div>

                {/* Language Selection */}
                <div className="bg-white/10 backdrop-blur-sm rounded-2xl border border-purple-500/20 p-8 mb-8">
                  <h2 className="text-2xl font-bold text-white mb-6 flex items-center gap-2">
                    <Languages className="w-6 h-6" />
                    Choose Your Languages ({selectedLanguages.length} selected)
                  </h2>

                  <div className="mb-6">
                    <label className="block text-gray-300 font-medium mb-3">Source Language</label>
                    <select
                      value={sourceLanguage}
                      onChange={(e) => setSourceLanguage(e.target.value)}
                      className="px-4 py-2 bg-black/30 border border-purple-500/30 rounded-lg text-white focus:outline-none focus:border-purple-400"
                    >
                      {languages.slice(0, 20).map(lang => (
                        <option key={lang.code} value={lang.code}>
                          {lang.flag} {lang.name}
                        </option>
                      ))}
                    </select>
                  </div>

                  <div>
                    <label className="block text-gray-300 font-medium mb-3">
                      Output Languages ({selectedLanguages.length} selected)
                    </label>
                    
                    <div className="mb-4 flex flex-wrap gap-2">
                      <button
                        onClick={() => setSelectedLanguages(['en', 'es', 'fr', 'de', 'it', 'pt', 'ru', 'zh', 'ja', 'ko'])}
                        className="px-3 py-1 bg-blue-500/20 border border-blue-400 rounded-lg text-blue-200 text-sm hover:bg-blue-500/30 transition-colors"
                      >
                        Top 10 Languages
                      </button>
                      <button
                        onClick={() => setSelectedLanguages(['en'])}
                        className="px-3 py-1 bg-gray-500/20 border border-gray-400 rounded-lg text-gray-200 text-sm hover:bg-gray-500/30 transition-colors"
                      >
                        English Only
                      </button>
                      <button
                        onClick={() => setSelectedLanguages([])}
                        className="px-3 py-1 bg-red-500/20 border border-red-400 rounded-lg text-red-200 text-sm hover:bg-red-500/30 transition-colors"
                      >
                        Clear All
                      </button>
                    </div>

                    <div className="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3 max-h-64 overflow-y-auto bg-black/10 p-4 rounded-lg border border-purple-500/20">
                      {languages.filter(lang => lang.code !== 'auto').map(lang => (
                        <button
                          key={lang.code}
                          onClick={() => handleLanguageToggle(lang.code)}
                          className={`p-3 rounded-lg border transition-all text-center ${
                            selectedLanguages.includes(lang.code)
                              ? 'bg-purple-500/30 border-purple-400 text-purple-200 scale-105'
                              : 'bg-black/20 border-gray-600 text-gray-300 hover:border-purple-500'
                          }`}
                        >
                          <div className="text-lg mb-1">{lang.flag}</div>
                          <div className="text-xs font-medium">{lang.name}</div>
                        </button>
                      ))}
                    </div>
                  </div>
                </div>

                {/* Format Selection */}
                <div className="bg-white/10 backdrop-blur-sm rounded-2xl border border-purple-500/20 p-8 mb-8">
                  <h2 className="text-2xl font-bold text-white mb-6 flex items-center gap-2">
                    <FileText className="w-6 h-6" />
                    Download Formats ({selectedFormats.length} selected)
                  </h2>
                  
                  <div className="grid sm:grid-cols-2 md:grid-cols-3 gap-4">
                    {formats.map(format => (
                      <button
                        key={format.id}
                        onClick={() => handleFormatToggle(format.id)}
                        className={`p-4 rounded-xl border transition-all text-left ${
                          selectedFormats.includes(format.id)
                            ? 'bg-cyan-500/20 border-cyan-400 text-cyan-200'
                            : 'bg-black/20 border-gray-600 text-gray-300 hover:border-cyan-500'
                        }`}
                      >
                        <FileText className="w-6 h-6 mb-2" />
                        <div className="font-semibold">{format.name}</div>
                        <div className="text-xs opacity-70">{format.description}</div>
                      </button>
                    ))}
                  </div>
                </div>

                {/* Process Button */}
                <div className="text-center mb-8">
                  <button
                    onClick={startTranscription}
                    disabled={isProcessing || (!url && !file) ||
                        disabled={isProcessing || (!url && !file) || backendStatus !== 'connected'}
                   className="px-8 py-4 bg-gradient-to-r from-purple-500 to-cyan-500 text-white font-bold rounded-xl hover:from-purple-600 hover:to-cyan-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center gap-3 mx-auto"
                 >
                   <Zap className="w-6 h-6" />
                   {isProcessing ? 'Transcribing YouTube Video...' : 'Transcribe YouTube Video Now'}
                 </button>
               </div>

               {/* Progress */}
               {isProcessing && (
                 <div className="bg-white/10 backdrop-blur-sm rounded-2xl border border-purple-500/20 p-8 mb-8">
                   <div className="text-center mb-6">
                     <div className="text-2xl font-bold text-white mb-2">{Math.round(progress)}%</div>
                     <div className="text-gray-300">{currentStep}</div>
                   </div>
                   
                   <div className="w-full bg-black/30 rounded-full h-3 mb-4">
                     <div 
                       className="bg-gradient-to-r from-purple-500 to-cyan-500 h-3 rounded-full transition-all duration-300"
                       style={{ width: `${progress}%` }}
                     />
                   </div>

                   <div className="flex justify-center gap-6 text-sm text-gray-300">
                     <div className="flex items-center gap-2">
                       <Clock className="w-4 h-4" />
                       Processing
                     </div>
                     <div className="flex items-center gap-2">
                       <Mic className="w-4 h-4" />
                       Whisper AI
                     </div>
                     <div className="flex items-center gap-2">
                       <Globe className="w-4 h-4" />
                       {selectedLanguages.length} Languages
                     </div>
                   </div>
                 </div>
               )}

               {/* Results */}
               {results && (
                 <div className="bg-white/10 backdrop-blur-sm rounded-2xl border border-purple-500/20 p-8">
                   <h2 className="text-2xl font-bold text-white mb-6 flex items-center gap-2">
                     <Check className="w-6 h-6 text-green-400" />
                     YouTube Video Transcribed Successfully!
                   </h2>

                   {/* Download All Button */}
                   <div className="text-center mb-6">
                     <button
                       onClick={downloadAll}
                       className="px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-500 text-white font-bold rounded-xl hover:from-green-600 hover:to-emerald-600 transition-all flex items-center gap-2 mx-auto"
                     >
                       <Download className="w-5 h-5" />
                       Download All Files (ZIP)
                     </button>
                   </div>

                   {/* Download Grid */}
                   <div className="space-y-6">
                     {selectedLanguages.map(languageCode => {
                       const language = languages.find(l => l.code === languageCode);
                       if (!language || !results.files[languageCode]) return null;

                       return (
                         <div key={languageCode} className="bg-black/20 rounded-xl p-6">
                           <div className="flex items-center gap-3 mb-4">
                             <span className="text-2xl">{language.flag}</span>
                             <div>
                               <h3 className="text-xl font-semibold text-white">{language.name}</h3>
                               <p className="text-gray-400">Available formats</p>
                             </div>
                           </div>

                           <div className="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3">
                             {selectedFormats.map(formatId => {
                               if (!results.files[languageCode][formatId]) return null;

                               const format = formats.find(f => f.id === formatId);
                               return (
                                 <button
                                   key={formatId}
                                   onClick={() => downloadFile(languageCode, formatId)}
                                   className="px-4 py-2 bg-purple-500/20 border border-purple-400/50 rounded-lg text-purple-200 hover:bg-purple-500/30 transition-colors text-sm"
                                 >
                                   {format?.name || formatId.toUpperCase()}
                                 </button>
                               );
                             })}
                           </div>
                         </div>
                       );
                     })}
                   </div>

                   {/* Performance Stats */}
                   {results.performance_stats && (
                     <div className="mt-6 bg-black/20 rounded-xl p-4">
                       <h4 className="text-white font-semibold mb-2">Performance Stats</h4>
                       <div className="text-sm text-gray-300 space-y-1">
                         {Object.entries(results.performance_stats).map(([key, value]) => (
                           <div key={key}>
                             <strong>{key.replace(/_/g, ' ')}:</strong> {value}
                           </div>
                         ))}
                       </div>
                     </div>
                   )}
                 </div>
               )}
             </div>
           </div>
         );
       };

       ReactDOM.render(<YouTubeTranscriber />, document.getElementById('root'));
   </script>
</body>
</html>
